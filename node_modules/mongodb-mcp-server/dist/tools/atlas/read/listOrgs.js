import { AtlasToolBase } from "../atlasTool.js";
export class ListOrganizationsTool extends AtlasToolBase {
    constructor() {
        super(...arguments);
        this.name = "atlas-list-orgs";
        this.description = "List MongoDB Atlas organizations";
        this.operationType = "read";
        this.argsShape = {};
    }
    async execute() {
        const data = await this.session.apiClient.listOrganizations();
        if (!data?.results?.length) {
            throw new Error("No projects found in your MongoDB Atlas account.");
        }
        // Format projects as a table
        const output = `Organization Name | Organization ID
----------------| ----------------
` +
            data.results
                .map((org) => {
                return `${org.name} | ${org.id}`;
            })
                .join("\n");
        return {
            content: [{ type: "text", text: output }],
        };
    }
}
//# sourceMappingURL=listOrgs.js.map